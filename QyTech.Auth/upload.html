
<html>
<head>
    <meta charset="UTF-8">
    <title>XMLHttpRequest上传文件</title>
    <script src="jquery-2.1.1.min.js"></script>
    <script src="QyUpMultiPicFile.js"></script>
    <script type="text/javascript">
        //var qyUpMulPicFileObj = new qyUpMultiPicFiles('http://localhost:3454/api/bsfile/Upload_Default', "test/", uploadComplete, uploadFailed)
        var qyUpMulPicFileObj = new qyUpMultiPicFiles('http://122.114.190.250:8083/LtdInfoUp/api/bsfile/Upload_Default', "test/", uploadComplete, uploadFailed)
       
        //上传成功响应
        function uploadComplete(evt) {
            //服务断接收完文件返回的结果
            console.log(evt.target.responseText);


            //var data = JSON.parse(evt.target.responseText);
            //if(data.success) {
            //    alert("上传成功！");
            //}else{
            //    alert("上传失败！");
            //}

        }
        //上传失败
        function uploadFailed(evt) {
            alert("上传失败！");
        }
    </script>
</head>
<body>
    <progress id="progressBar" value="0" max="100" style="width: 300px;"></progress>
    <span id="percentage"></span><span id="time"></span>
    <br /><br />
    <input type="file" id="PicFile_file" multiple class="keyword" style="width: 55%; border-radius: 0px;" name="filePath" onchange="qyUpMulPicFileObj.UploadFile(this)" />

</body>
</html>